<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Grupo Diraa</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .tabs { margin-bottom: 20px; }
    .tab-button { padding: 10px 20px; cursor: pointer; border: 1px solid #ccc; background: #eee; margin-right: 5px; }
    .tab-button.active { background: #ccc; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
  </style>
</head>
<body>

<h1>Grupo Diraa</h1>

<div class="tabs">
  <button class="tab-button active" data-tab="lista">Lista</button>
  <button class="tab-button" data-tab="horarios">Horarios</button>
</div>

<div id="lista" class="tab-content active">
  <table id="listaTable" class="display" style="width:100%"></table>
</div>

<div id="horarios" class="tab-content">
  <table id="horariosTable" class="display" style="width:100%"></table>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script>
  // Tab functionality
  $('.tab-button').on('click', function () {
    $('.tab-button').removeClass('active');
    $(this).addClass('active');
    $('.tab-content').removeClass('active');
    $('#' + $(this).data('tab')).addClass('active');
  });

  // Load CSV data into tables using AJAX
  function loadTable(tableId, csvUrl) {
    $.get(csvUrl, function (csv) {
      const lines = csv.split("\n").filter(line => line.trim().length > 0);
      const headers = lines[0].split(",");
      const data = lines.slice(1).map(line => line.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/));

      const columns = headers.map(h => ({ title: h }));
      $('#' + tableId).DataTable({
        data: data,
        columns: columns
      });
    });
  }

  loadTable("listaTable", "lista.csv");
  loadTable("horariosTable", "horarios.csv");
</script>

</body>
</html>
